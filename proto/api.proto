syntax = "proto3";

package api;

option go_package = "./;main";

// RPCs

service API {
    rpc Put (PutRequest);
    rpc Get (GetRequest) returns (GetResponse);
    rpc Watch (WatchRequest) returns (WatchResponse);
}

// Data containers

message Item {
    string Key = 1;
    string Value = 2;
}

// Messages

message PutRequest {
    Item Item = 1;
}

message GetRequest {
    string Key = 1;
}

message GetResponse {
    Item Item = 1;
}

message WatchRequest {
    string Key = 1;
    string Prefix = 2;
}

message WatchResponse {
    repeated Item Item = 1;
}

